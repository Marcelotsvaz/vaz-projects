// 
// VAZ Projects
// 
// 
// Author: Marcelo Tellier Sartori Vaz <marcelotsvaz@gmail.com>



{
	"version": "2.0.0",
	
	
	
	"tasks": [
		{
			"label": "Compose",
			"type": "shell",
			"command": "docker compose ${input:composeCommand}",
			"icon": {
				"id": "chrome-restore",
				"color": "terminal.ansiBlue",
			},
			"problemMatcher": [],
		},
		
		
		{
			"label": "Deploy",
			"type": "shell",
			"command": "deploy/deploy.sh ${input:deployCommand} ${input:deployEnvironment}",
			"icon": {
				"id": "rocket",
				"color": "terminal.ansiMagenta",
			},
			"problemMatcher": [],
		},
	],
	
	
	
	"inputs": [
		{
			"id": "composeCommand",
			"type": "pickString",
			"description": "Select operation",
			"default": "up",
			"options": [
				{
					"label": "up",
					"value": "-f compose.yaml -f compose.development.yaml up --detach --build",
				},
				{
					"label": "down",
					"value": "down"
				},
				{
					"label": "build",
					"value": "build"
				},
				{
					"label": "tests",
					"value": "run --rm application 'coverage run manage.py test && coverage report'"
				},
			],
		},
		
		
		{
			"id": "deployCommand",
			"type": "pickString",
			"description": "Select operation",
			"default": "deployEnvironment",
			"options": [
				{
					"label": "Deploy Environment",
					"value": "deployEnvironment"
				},
				{
					"label": "Destroy Environment",
					"value": "destroyEnvironment"
				},
				{
					"label": "Deploy AWS",
					"value": "deployAws"
				},
				{
					"label": "Destroy AWS",
					"value": "destroyAws"
				},
			],
		},
		
		
		{
			"id": "deployEnvironment",
			"type": "pickString",
			"description": "Select environment",
			"default": "staging",
			"options": [
				{
					"label": "Staging",
					"value": "staging"
				},
				{
					"label": "Production",
					"value": "production"
				},
				{
					"label": "Global",
					"value": "global"
				},
			],
		},
	]
}