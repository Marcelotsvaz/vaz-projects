// 
// VAZ Projects
// 
// 
// Author: Marcelo Tellier Sartori Vaz <marcelotsvaz@gmail.com>



{
	"version": "2.0.0",
	
	
	
	"tasks": [
		{
			"label": "Docker Compose",
			"type": "shell",
			"command": "docker compose ${input:composeCommand}",
			"icon": {
				"id": "chrome-restore",
				"color": "terminal.ansiBlue",
			},
			"problemMatcher": [],
		},
		
		
		{
			"label": "Deploy",
			"type": "shell",
			"command": "deploy/deploy.sh ${input:deployArguments}",
			"icon": {
				"id": "rocket",
				"color": "terminal.ansiMagenta",
			},
			"problemMatcher": [],
		},
	],
	
	
	
	"inputs": [
		{
			"id": "composeCommand",
			"type": "pickString",
			"description": "Select operation",
			"options": [
				{
					"label": "up",
					"value": "-f compose.yaml -f development.compose.yaml up --detach --build",
				},
				{
					"label": "down",
					"value": "down"
				},
				{
					"label": "build",
					"value": "build"
				},
				{
					"label": "tests",
					"value": "run --rm --build application 'coverage run manage.py test && coverage report'"
				},
			],
		},
		
		
		{
			"id": "deployArguments",
			"type": "pickString",
			"description": "Select operation",
			"options": [
				{
					"label": "Build AMI",
					"value": "buildAmi",
				},
				{
					"label": "Build Builder AMI",
					"value": "buildBuilderAmi",
				},
				{
					"label": "Deploy Staging",
					"value": "deployEnvironment staging",
				},
				{
					"label": "Deploy Production",
					"value": "deployEnvironment production",
				},
				{
					"label": "Deploy Global",
					"value": "deployGlobal",
				},
				{
					"label": "Destroy Staging",
					"value": "destroyEnvironment staging",
				},
				{
					"label": "Destroy Production",
					"value": "destroyEnvironment production",
				},
				{
					"label": "Destroy Global",
					"value": "destroyGlobal",
				},
			],
		},
	]
}